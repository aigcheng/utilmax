<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Adding favicon -->
    

    <!-- Adding meta -->
    

    <!-- Adding external script-->
    

    <!-- Adding external style-->
    

    <!-- Adding scripts-->
    

    <!-- Adding style-->
    

    <!-- Adding overlay script-->
    

    <!-- Adding overlay style-->
    


    <title>
      function/throttle.ts
    </title>

    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/third-party/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/third-party/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/reset.css">
    <link type="text/css" rel="stylesheet" href="styles/clean-jsdoc-theme-base.css">
    <link type="text/css" rel="stylesheet" href="styles/clean-jsdoc-theme-dark.css">
    
    <svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
    style="display:none">
    <defs>
        <symbol id="copy-icon" viewbox="0 0 488.3 488.3">
            <g>
                <path
                    d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z" />
                <path
                    d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z" />
            </g>
        </symbol>
        <symbol id='search-icon' viewBox="0 0 512 512">
            <g>
                <g>
                    <path
                        d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z" />
                </g>
            </g>
            <g>
                <g>
                    <path
                        d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z" />
                </g>
            </g>
        </symbol>
        <symbol id="down-icon" viewBox="0 0 16 16">
            <path 
                fill-rule="evenodd" 
                clip-rule="evenodd" 
                d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"
            >
            </path>
        </symbol>
    </defs>
</svg>
  </head>

  <body>

    <nav class="navbar" id="navbar">
      <div class="navbar-heading" id="navbar-heading"><a href="index.html"><h2 class="navbar-heading-text">Home</h2></a></div><div class="search-box" id="search-box"><div class="search-box-input-container"><input class="search-box-input" type="text" placeholder="Search..." id="search-box-input" /><svg class="search-icon" alt="search-icon"><use xlink:href="#search-icon"></use></svg></div><div class="search-item-container" id="search-item-container"><ul class="search-item-ul" id="search-item-ul"></ul></div></div><div class="sidebar-main-content" id="sidebar-main-content"><div class="accordion collapsed" id="9626958" > <h3 class="accordion-heading">Global<svg><use xlink:href="#down-icon"></use></svg></h3><ul class="accordion-content"><li class="accordion-list" id=""><a href="global.html#_default">_default</a></li><li class="accordion-list" id=""><a href="global.html#arrayEqual">arrayEqual</a></li><li class="accordion-list" id=""><a href="global.html#arrayMax">arrayMax</a></li><li class="accordion-list" id=""><a href="global.html#arrayMin">arrayMin</a></li><li class="accordion-list" id=""><a href="global.html#bottomVisible">bottomVisible</a></li><li class="accordion-list" id=""><a href="global.html#chunk">chunk</a></li><li class="accordion-list" id=""><a href="global.html#commafy">commafy</a></li><li class="accordion-list" id=""><a href="global.html#copyToClipboard">copyToClipboard</a></li><li class="accordion-list" id=""><a href="global.html#countOccurrences">countOccurrences</a></li><li class="accordion-list" id=""><a href="global.html#dataURLtoFile">dataURLtoFile</a></li><li class="accordion-list" id=""><a href="global.html#debounce">debounce</a></li><li class="accordion-list" id=""><a href="global.html#deepClone">deepClone</a></li><li class="accordion-list" id=""><a href="global.html#digitUppercase">digitUppercase</a></li><li class="accordion-list" id=""><a href="global.html#dropElements">dropElements</a></li><li class="accordion-list" id=""><a href="global.html#dropRight">dropRight</a></li><li class="accordion-list" id=""><a href="global.html#elementIsVisibleInViewport">elementIsVisibleInViewport</a></li><li class="accordion-list" id=""><a href="global.html#env">env</a></li><li class="accordion-list" id=""><a href="global.html#everyNth">everyNth</a></li><li class="accordion-list" id=""><a href="global.html#flatten">flatten</a></li><li class="accordion-list" id=""><a href="global.html#formatDate">formatDate</a></li><li class="accordion-list" id=""><a href="global.html#formatPassTime">formatPassTime</a></li><li class="accordion-list" id=""><a href="global.html#formatRemainTime">formatRemainTime</a></li><li class="accordion-list" id=""><a href="global.html#getCookie">getCookie</a></li><li class="accordion-list" id=""><a href="global.html#getEnvironment">getEnvironment</a></li><li class="accordion-list" id=""><a href="global.html#getExplore">getExplore</a></li><li class="accordion-list" id=""><a href="global.html#getScrollPosition">getScrollPosition</a></li><li class="accordion-list" id=""><a href="global.html#getStyle">getStyle</a></li><li class="accordion-list" id=""><a href="global.html#getTypeOf">getTypeOf</a></li><li class="accordion-list" id=""><a href="global.html#getURLParameters">getURLParameters</a></li><li class="accordion-list" id=""><a href="global.html#hasClass">hasClass</a></li><li class="accordion-list" id=""><a href="global.html#inAndroid">inAndroid</a></li><li class="accordion-list" id=""><a href="global.html#inBrowser">inBrowser</a></li><li class="accordion-list" id=""><a href="global.html#inIOS">inIOS</a></li><li class="accordion-list" id=""><a href="global.html#inNodeJS">inNodeJS</a></li><li class="accordion-list" id=""><a href="global.html#inTaro">inTaro</a></li><li class="accordion-list" id=""><a href="global.html#intersection">intersection</a></li><li class="accordion-list" id=""><a href="global.html#inWechatWebView">inWechatWebView</a></li><li class="accordion-list" id=""><a href="global.html#isEmail">isEmail</a></li><li class="accordion-list" id=""><a href="global.html#isIdCard">isIdCard</a></li><li class="accordion-list" id=""><a href="global.html#isLeapYear">isLeapYear</a></li><li class="accordion-list" id=""><a href="global.html#isObjEmpty">isObjEmpty</a></li><li class="accordion-list" id=""><a href="global.html#isPhoneNum">isPhoneNum</a></li><li class="accordion-list" id=""><a href="global.html#isSameDay">isSameDay</a></li><li class="accordion-list" id=""><a href="global.html#monthDays">monthDays</a></li><li class="accordion-list" id=""><a href="global.html#noRepeat">noRepeat</a></li><li class="accordion-list" id=""><a href="global.html#nthElement">nthElement</a></li><li class="accordion-list" id=""><a href="global.html#randomNum">randomNum</a></li><li class="accordion-list" id=""><a href="global.html#re">re</a></li><li class="accordion-list" id=""><a href="global.html#redirect">redirect</a></li><li class="accordion-list" id=""><a href="global.html#removeCookie">removeCookie</a></li><li class="accordion-list" id=""><a href="global.html#scrollTop">scrollTop</a></li><li class="accordion-list" id=""><a href="global.html#setCookie">setCookie</a></li><li class="accordion-list" id=""><a href="global.html#shuffle">shuffle</a></li><li class="accordion-list" id=""><a href="global.html#stringfyQueryString">stringfyQueryString</a></li><li class="accordion-list" id=""><a href="global.html#throttle">throttle</a></li><li class="accordion-list" id=""><a href="global.html#timeLeft">timeLeft</a></li><li class="accordion-list" id=""><a href="global.html#timestampToTime">timestampToTime</a></li><li class="accordion-list" id=""><a href="global.html#toCamelCase">toCamelCase</a></li><li class="accordion-list" id=""><a href="global.html#toSearch">toSearch</a></li><li class="accordion-list" id=""><a href="global.html#valiateCssValue">valiateCssValue</a></li><li class="accordion-list" id=""><a href="global.html#validateCssKey">validateCssKey</a></li><li class="accordion-list" id=""><a href="global.html#validCss">validCss</a></li></ul> </div></div>
      

    </nav>
    <div class="navbar-ham" id="navbar-ham">
      <div>
        <div class="first"></div>
        <div class="second"></div>
        <div class="third"></div>
      </div>
    </div>

    <div id="main" class="main-content">
      
      <h1 id='page-title' class="page-title">
        function/throttle.ts
      </h1>
      

      



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @desc   函数节流。
 * 适用于限制`resize`和`scroll`等函数的调用频率
 *
 * @param  {Number}    delay          0 或者更大的毫秒数。 对于事件回调，大约100或250毫秒（或更高）的延迟是最有用的。
 * @param  {Boolean}   noTrailing     可选，默认为false。
 *                                    如果noTrailing为true，当节流函数被调用，每过`delay`毫秒`callback`也将执行一次。
 *                                    如果noTrailing为false或者未传入，`callback`将在最后一次调用节流函数后再执行一次.
 *                                    （延迟`delay`毫秒之后，节流函数没有被调用,内部计数器会复位）
 * @param  {Function}  callback       延迟毫秒后执行的函数。`this`上下文和所有参数都是按原样传递的，
 *                                    执行去节流功能时，调用`callback`。
 * @param  {Boolean}   debounceMode   如果`debounceMode`为true，`clear`在`delay`ms后执行。
 *                                    如果debounceMode是false，`callback`在`delay` ms之后执行。
 *
 * @return {Function}  新的节流函数
 */
export function throttle(delay:number, noTrailing:boolean, callback, debounceMode:boolean) {

    // After wrapper has stopped being called, this timeout ensures that
    // `callback` is executed at the proper times in `throttle` and `end`
    // debounce modes.
    let timeoutID;

    // Keep track of the last time `callback` was executed.
    let lastExec = 0;

    // `noTrailing` defaults to false.
    if (typeof noTrailing !== 'boolean') {
        debounceMode = callback;
        callback = noTrailing;
        noTrailing = false;
    }

    // The `wrapper` function encapsulates all of the throttling / debouncing
    // functionality and when executed will limit the rate at which `callback`
    // is executed.
    function wrapper(this: any) {

        const self = this;
        const elapsed = Number(new Date()) - lastExec;
        const args = arguments;

        // Execute `callback` and update the `lastExec` timestamp.
        function exec() {
            lastExec = Number(new Date());
            callback.apply(self, args);
        }

        // If `debounceMode` is true (at begin) this is used to clear the flag
        // to allow future `callback` executions.
        function clear() {
            timeoutID = undefined;
        }

        if (debounceMode &amp;&amp; !timeoutID) {
            // Since `wrapper` is being called for the first time and
            // `debounceMode` is true (at begin), execute `callback`.
            exec();
        }

        // Clear any existing timeout.
        if (timeoutID) {
            clearTimeout(timeoutID);
        }

        if (debounceMode === undefined &amp;&amp; elapsed > delay) {
            // In throttle mode, if `delay` time has been exceeded, execute
            // `callback`.
            exec();

        } else if (noTrailing !== true) {
            // In trailing throttle mode, since `delay` time has not been
            // exceeded, schedule `callback` to execute `delay` ms after most
            // recent execution.
            //
            // If `debounceMode` is true (at begin), schedule `clear` to execute
            // after `delay` ms.
            //
            // If `debounceMode` is false (at end), schedule `callback` to
            // execute after `delay` ms.
            timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);
        }

    }

    // Return the wrapper function.
    return wrapper;

};</code></pre>
        </article>
    </section>




    </div>

    <footer class="footer" id="footer">
      
    </footer>

    <script src="scripts/third-party/prettify.js"></script>
    <script src="scripts/third-party/lang-css.js"></script>
    <script type="text/javascript" src="scripts/misc.js"></script>

    <script>prettyPrint();</script>
    <script src="scripts/linenumber.js"></script>
    <script src="scripts/fix-code-block.js"></script>
    <script src="scripts/fix-navbar.js"></script>
    
      <script src="scripts/search.js"></script>
      <script src="scripts/third-party/fuse.js"></script>
      <script>
        var list = [{"title":"_default","link":"<a href=\"global.html#_default\">_default</a>"},{"title":"arrayEqual","link":"<a href=\"global.html#arrayEqual\">arrayEqual</a>"},{"title":"arrayMax","link":"<a href=\"global.html#arrayMax\">arrayMax</a>"},{"title":"arrayMin","link":"<a href=\"global.html#arrayMin\">arrayMin</a>"},{"title":"bottomVisible","link":"<a href=\"global.html#bottomVisible\">bottomVisible</a>"},{"title":"chunk","link":"<a href=\"global.html#chunk\">chunk</a>"},{"title":"commafy","link":"<a href=\"global.html#commafy\">commafy</a>"},{"title":"copyToClipboard","link":"<a href=\"global.html#copyToClipboard\">copyToClipboard</a>"},{"title":"countOccurrences","link":"<a href=\"global.html#countOccurrences\">countOccurrences</a>"},{"title":"dataURLtoFile","link":"<a href=\"global.html#dataURLtoFile\">dataURLtoFile</a>"},{"title":"debounce","link":"<a href=\"global.html#debounce\">debounce</a>"},{"title":"deepClone","link":"<a href=\"global.html#deepClone\">deepClone</a>"},{"title":"digitUppercase","link":"<a href=\"global.html#digitUppercase\">digitUppercase</a>"},{"title":"dropElements","link":"<a href=\"global.html#dropElements\">dropElements</a>"},{"title":"dropRight","link":"<a href=\"global.html#dropRight\">dropRight</a>"},{"title":"elementIsVisibleInViewport","link":"<a href=\"global.html#elementIsVisibleInViewport\">elementIsVisibleInViewport</a>"},{"title":"env","link":"<a href=\"global.html#env\">env</a>"},{"title":"everyNth","link":"<a href=\"global.html#everyNth\">everyNth</a>"},{"title":"flatten","link":"<a href=\"global.html#flatten\">flatten</a>"},{"title":"formatDate","link":"<a href=\"global.html#formatDate\">formatDate</a>"},{"title":"formatPassTime","link":"<a href=\"global.html#formatPassTime\">formatPassTime</a>"},{"title":"formatRemainTime","link":"<a href=\"global.html#formatRemainTime\">formatRemainTime</a>"},{"title":"getCookie","link":"<a href=\"global.html#getCookie\">getCookie</a>"},{"title":"getEnvironment","link":"<a href=\"global.html#getEnvironment\">getEnvironment</a>"},{"title":"getExplore","link":"<a href=\"global.html#getExplore\">getExplore</a>"},{"title":"getScrollPosition","link":"<a href=\"global.html#getScrollPosition\">getScrollPosition</a>"},{"title":"getStyle","link":"<a href=\"global.html#getStyle\">getStyle</a>"},{"title":"getTypeOf","link":"<a href=\"global.html#getTypeOf\">getTypeOf</a>"},{"title":"getURLParameters","link":"<a href=\"global.html#getURLParameters\">getURLParameters</a>"},{"title":"hasClass","link":"<a href=\"global.html#hasClass\">hasClass</a>"},{"title":"inAndroid","link":"<a href=\"global.html#inAndroid\">inAndroid</a>"},{"title":"inBrowser","link":"<a href=\"global.html#inBrowser\">inBrowser</a>"},{"title":"inIOS","link":"<a href=\"global.html#inIOS\">inIOS</a>"},{"title":"inNodeJS","link":"<a href=\"global.html#inNodeJS\">inNodeJS</a>"},{"title":"inTaro","link":"<a href=\"global.html#inTaro\">inTaro</a>"},{"title":"intersection","link":"<a href=\"global.html#intersection\">intersection</a>"},{"title":"inWechatWebView","link":"<a href=\"global.html#inWechatWebView\">inWechatWebView</a>"},{"title":"isEmail","link":"<a href=\"global.html#isEmail\">isEmail</a>"},{"title":"isIdCard","link":"<a href=\"global.html#isIdCard\">isIdCard</a>"},{"title":"isLeapYear","link":"<a href=\"global.html#isLeapYear\">isLeapYear</a>"},{"title":"isObjEmpty","link":"<a href=\"global.html#isObjEmpty\">isObjEmpty</a>"},{"title":"isPhoneNum","link":"<a href=\"global.html#isPhoneNum\">isPhoneNum</a>"},{"title":"isSameDay","link":"<a href=\"global.html#isSameDay\">isSameDay</a>"},{"title":"monthDays","link":"<a href=\"global.html#monthDays\">monthDays</a>"},{"title":"noRepeat","link":"<a href=\"global.html#noRepeat\">noRepeat</a>"},{"title":"nthElement","link":"<a href=\"global.html#nthElement\">nthElement</a>"},{"title":"randomNum","link":"<a href=\"global.html#randomNum\">randomNum</a>"},{"title":"re","link":"<a href=\"global.html#re\">re</a>"},{"title":"redirect","link":"<a href=\"global.html#redirect\">redirect</a>"},{"title":"removeCookie","link":"<a href=\"global.html#removeCookie\">removeCookie</a>"},{"title":"scrollTop","link":"<a href=\"global.html#scrollTop\">scrollTop</a>"},{"title":"setCookie","link":"<a href=\"global.html#setCookie\">setCookie</a>"},{"title":"shuffle","link":"<a href=\"global.html#shuffle\">shuffle</a>"},{"title":"stringfyQueryString","link":"<a href=\"global.html#stringfyQueryString\">stringfyQueryString</a>"},{"title":"throttle","link":"<a href=\"global.html#throttle\">throttle</a>"},{"title":"timeLeft","link":"<a href=\"global.html#timeLeft\">timeLeft</a>"},{"title":"timestampToTime","link":"<a href=\"global.html#timestampToTime\">timestampToTime</a>"},{"title":"toCamelCase","link":"<a href=\"global.html#toCamelCase\">toCamelCase</a>"},{"title":"toSearch","link":"<a href=\"global.html#toSearch\">toSearch</a>"},{"title":"valiateCssValue","link":"<a href=\"global.html#valiateCssValue\">valiateCssValue</a>"},{"title":"validateCssKey","link":"<a href=\"global.html#validateCssKey\">validateCssKey</a>"},{"title":"validCss","link":"<a href=\"global.html#validCss\">validCss</a>"}];
        var options = 
          setupSearch(list, options)
      </script>
    

    

    

    

    


  </body>

</html>
